MA Start























waiting for sync
Transmit NTP Request
Receive NTP Response
10 35 3 25 10 2016
tpMQTTSetCallbacks
tpMQTTSetCallbacks
MQTTCreate
19267 << randNubmer
arduino_client_id_19267 << ClientID
MQTTConnected
MQTT Request subscibe topic : /oneM2M/req/middleware/ae-middleware
OnSubscribe
MQTT Request subscibe topic : /oneM2M/resp/ae-middleware/middleware
OnSubscribe
MQTTSubscribed
PROCESS_NODE_CREATE
MQTTPublishMessage
MQTT publish topic :/oneM2M/req/ae-middleware/middleware
payload : <?xml version="1.0" encoding="UTF-8"?><m2m:rqp xmlns:m2m="http://www.onem2m.org/xml/protocols" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.onem2m.org/xml/protocols CDT-requestPrimitive-v1_0_0.xsd"><op>1</op><fr>S000000000020284232178</fr><to>/CB00073/middleware</to><ty>14</ty><rqi>12345</rqi><pc><m2m:nod rn="nod-middleware"><ni>node_01</ni></m2m:nod></pc></m2m:rqp>
MQTT publish Success
MQTTMessageDelivered
tpSDKCreate
CHECK
MessageArrivedCallback
mMessageCallback START
MQTTMessageArrived
<m2m:rsp xmlns:m2m="http://www.onem2m.org/xml/protocols" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.onem2m.org/xml/protocols CDT-requestPrimitive-v1_0_0.xsd"><rsc>4105</rsc><rqi>12345</rqi><RSM>Already registered node.</RSM><pc><m2m:nod rn="nod-middleware"><ty>14</ty><ri>ND00000000000000000046</ri><pi>CB00000000000000000073</pi><ct>20161007T125444</ct><lt>20161025T193013</lt><lbl>text</lbl><et>99991231T000000</et><ni>0101f00203100a1903030a1e0a23020c2e2502a85c26018120033952692103c1c37c</ni></m2m:nod></pc></m2m:rsp>
PROCESS_AE_CREATE
MQTTPublishMessage
MQTT publish topic :/oneM2M/req/ae-middleware/middleware
payload : <?xml version="1.0" encoding="UTF-8"?><m2m:rqp xmlns:m2m="http://www.onem2m.org/xml/protocols" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.onem2m.org/xml/protocols CDT-requestPrimitive-v1_0_0.xsd"><op>1</op><fr>S</fr><to>/CB00073/middleware</to><ty>2</ty><rqi>12345</rqi><pc><m2m:ae rn="ae-middleware"><api>middleware</api><poa>mqtt:///oneM2M/req/middleware/ae-middleware</poa><rr>true</rr></m2m:ae></pc></m2m:rqp>
MQTT publish Success
MQTTMessageDelivered
mMessageCallback END
CHECK
MessageArrivedCallback
mMessageCallback START
MQTTMessageArrived
<m2m:rsp xmlns:m2m="http://www.onem2m.org/xml/protocols" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.onem2m.org/xml/protocols CDT-requestPrimitive-v1_0_0.xsd"><rsc>2001</rsc><rqi>12345</rqi><pc><m2m:ae rn="ae-middleware"><ty>2</ty><ri>AE00000000000000000265</ri><pi>CB00000000000000000073</pi><ct>20161025T193506</ct><lt>20161025T193506</lt><acpi>AP00000000000000000304</acpi><et>99991231T000000</et><api>middleware</api><aei>S000000000045509339265</aei><poa>mqtt:///oneM2M/req/middleware/ae-middleware</poa><rr>true</rr></m2m:ae></pc></m2m:rsp>
PROCESS_CONTAINER_CREATE
MQTTPublishMessage
MQTT publish topic :/oneM2M/req/ae-middleware/middleware
payload : <?xml version="1.0" encoding="UTF-8"?><m2m:rqp xmlns:m2m="http://www.onem2m.org/xml/protocols" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.onem2m.org/xml/protocols CDT-requestPrimitive-v1_0_0.xsd"><op>1</op><fr>S000000000045509339265</fr><to>/CB00073/middleware/ae-middleware</to><ty>3</ty><rqi>12345</rqi><pc><m2m:cnt rn="cnt-sensor01"></m2m:cnt></pc></m2m:rqp>
MQTT publish Success
MQTTMessageDelivered
mMessageCallback END
CHECK
MessageArrivedCallback
mMessageCallback START
MQTTMessageArrived
<m2m:rsp xmlns:m2m="http://www.onem2m.org/xml/protocols" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.onem2m.org/xml/protocols CDT-requestPrimitive-v1_0_0.xsd"><rsc>2001</rsc><rqi>12345</rqi><pc><m2m:cnt rn="cnt-sensor01"><ty>3</ty><ri>CT00000000000000000225</ri><pi>AE00000000000000000265</pi><ct>20161025T193508</ct><lt>20161025T193508</lt><et>99991231T000000</et><st>0</st><cr>S000000000045509339265</cr><cni>0</cni><cbs>0</cbs><la>/CB00073/middleware/ae-middleware/cnt-sensor01/la</la><ol>/CB00073/middleware/ae-middleware/cnt-sensor01/ol</ol></m2m:cnt></pc></m2m:rsp>
PROCESS_MGMTCMD_CREATE
MQTTPublishMessage
MQTT publish topic :/oneM2M/req/ae-middleware/middleware
payload : <?xml version="1.0" encoding="UTF-8"?><m2m:rqp xmlns:m2m="http://www.onem2m.org/xml/protocols" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.onem2m.org/xml/protocols CDT-requestPrimitive-v1_0_0.xsd"><op>1</op><fr>S000000000020284232178</fr><to>/CB00073/middleware</to><ty>12</ty><rqi>12345</rqi><pc><m2m:mgc rn="mgc-reset"><cmt>1</cmt><ext>ND00000000000000000046</ext></m2m:mgc></pc></m2m:rqp>
MQTT publish Success
MQTTMessageDelivered
mMessageCallback END
CHECK
MessageArrivedCallback
mMessageCallback START
MQTTMessageArrived
<m2m:rsp xmlns:m2m="http://www.onem2m.org/xml/protocols" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.onem2m.org/xml/protocols CDT-requestPrimitive-v1_0_0.xsd"><rsc>2001</rsc><rqi>12345</rqi><pc><m2m:mgc rn="mgc-reset"><ty>12</ty><ri>MC00000000000000000068</ri><pi>CB00000000000000000073</pi><ct>20161025T193510</ct><lt>20161025T193510</lt><et>99991231T000000</et><cmt>1</cmt><exe>false</exe><ext>ND00000000000000000046</ext></m2m:mgc></pc></m2m:rsp>
PROCESS_CONTENTINSTANCE_CREATE
SMAGetData  = <26.26>
SMAGetData  = <48>
SMAGetData  = <267>
SMAGetData  = <1>
MQTTPublishMessage
MQTT publish topic :/oneM2M/req/ae-middleware/middleware
payload : <?xml version="1.0" encoding="UTF-8"?><m2m:rqp xmlns:m2m="http://www.onem2m.org/xml/protocols" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.onem2m.org/xml/protocols CDT-requestPrimitive-v1_0_0.xsd"><op>1</op><fr>S000000000045509339265</fr><to>/CB00073/middleware/ae-middleware/cnt-sensor01</to><ty>4</ty><rqi>12345</rqi><pc><m2m:cin><cnf>Lora/Sensor</cnf><con>0203100a1903030a230c23020a4226013025020b362f0101</con></m2m:cin></pc></m2m:rqp>
MQTT publish Success
MQTTMessageDelivered
mMessageCallback END
CHECK
MessageArrivedCallback
mMessageCallback START
MQTTMessageArrived
<m2m:rsp xmlns:m2m="http://www.onem2m.org/xml/protocols" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.onem2m.org/xml/protocols CDT-requestPrimitive-v1_0_0.xsd"><rsc>2001</rsc><rqi>12345</rqi><pc><m2m:cin rn="cin-CI00000000000000456190"><ty>4</ty><ri>CI00000000000000456190</ri><pi>CT00000000000000000225</pi><ct>20161025T193513</ct><lt>20161025T193513</lt><et>20161124T193513</et><st>1</st><cr>S000000000045509339265</cr><cnf>Lora/Sensor</cnf><cs>48</cs><con>0203100a1903030a230c23020a4226013025020b362f0101</con></m2m:cin></pc></m2m:rsp>
mMessageCallback END
CHECK
CHECK
CHECK
CHECK
CHECK

